<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Prosjektbeskrivelse av BlogApp</title>
  </head>
  <body>
    <h1>Prosjektbeskrivelse av BlogApp</h1>
    <p>BlogApp blir utviklet av <a href="mailto:christian.rasmussen@me.com">Christian Rasmussen</a> (080599) som en del av faget Databaser og Web ved <a href="http://hit.no/">Høgskolen i Telemark</a>.</p>
    <h2>Introduksjon</h2>
    <p>BlogApp er en web-applikasjon for blogging. Den inneholder funksjoner for å lese og skrive blogginnlegg, samt kommentere på disse. Jeg vil legge stor vekt på at web-applikasjonen blir interaktiv og brukervennlig.</p>
    <p>Denne web-applikasjonen retter seg mot alle som ønsker å formidle noe, være seg dagens hendelser eller temaer man er opptatt av.</p>
    <h2>Brukergrensesnitt</h2>
    <p><img alt="Hovedsiden" src="img/main-page.png"></p>
    <p><i>Hovedsiden viser en liste over blogginnlegg.</i></p>
    <p><img alt="Et enkelt blogginnlegg" src="img/post-details.png"></p>
    <p><i>￼￼Et enkelt blogginnlegg med tilhørende kommentarer.</i></p>
    <p><img alt="Redigering av blogginnlegg" src="img/edit-post.png"></p>
    <p><i>Et blogginnlegg som blir redigert.</i></p>
    <h2>Database</h2>
    <p><i>Oppdatert: 26.02.2012</i></p>
    <p>Tabeller:</p>
    <ul>
      <li>users (<u>userId</u>, username, password)</li>
      <li>posts (<u>postId</u>, userId*, title, body, createdAt, modifiedAt)</li>
      <li>comments (<u>commentId</u>, postId*, userId*, name, body, createdAt)</li>
    </ul>
    <p>Last ned <a href="files/blogapp.sql">SQL-skriptet</a> som oppretter databasen med eksempeldata.</p>
    <h2>Funksjonalitet</h2>
    <p><i>Oppdatert: 26.02.2012</i></p>
    <p>Web-applikasjonen skal bestå av to deler; en åpen del og en passordbeskyttet del.</p>
    <p>Åpen del:</p>
    <ul>
      <li><b>Lese blogginnlegg:</b> Forsiden viser de siste blogginnleggene. Blogginnleggene er sortert etter dato, hvor nyest dato er øverst.</li>
      <li><b>Lese og skrive kommentarer:</b> Alle brukere kan åpne blogginnlegg for å lese og skrive kommentarer. Nye kommentarer krever et navn (såfremt brukeren ikke allerede er logget inn) og innholdet til kommentaren. Navnet er begrenset til 40 tegn, mens innholdet er begrenset til 1&nbsp;000 tegn. Valideringen skjer både på klientsiden og på tjenersiden. Kommentarene er sortert etter dato, hvor eldst dato er øverst.</li>
      <li><b>Søke etter blogginnlegg:</b> Alle brukere kan søke etter gamle blogginnlegg.</li>
      <li><b>Nyhetsstrøm:</b> En RSS-fil genereres for enkel tilgang til blogginnleggene fra eksterne kilder.</li>
    </ul>
    <p>Passordbeskyttet del:</p>
    <ul>
      <li><b>Legge til, redigere og slette blogginnlegg:</b> Administratorer kan legge til, redigere og slette blogginnlegg. Redigering av blogginnlegg skjer direkte på framsiden av bloggen. Dette gjøres ved hjelp av en WYSIWYG-editor som gir tilgang til ulike formatteringsknapper (som uthevet skrift, understrekning, kursiv). Innholdet blir lagret i databasen som HTML, men kun spesifiserte HTML-tagger vil være tillatt. Tittelen er begrenset til 200 tegn, mens innholdet er begrenset til 10&nbsp;000 tegn. Valideringen skjer både på klientsiden og på tjenersiden.</li>
      <li><b>Slette kommentarer:</b> Administratorer kan slette upassende kommentarer.</li>
    </ul>
    <p>For at web-applikasjonen skal være så interaktiv som mulig vil jeg sørge for at alle handlinger skjer sømløst, altså uten at nettsiden trenger å lastes inn på nytt. Dette løses ved hjelp av AJAX.</p>
    <hr>
    <p>På grunn av at databasen er såpass enkel er det ikke noen reelle behov for hverken transaksjoner, lagrede rutiner eller triggere. For å alikevel oppfylle disse kravene må jeg lage noen kunstige behov:</p>
    <ul>
      <li><b>Transaksjon:</b> I utgangspunktet så kan ikke en administrator bli slettet før alle blogginnleggene til denne administratoren er slettet. Transaksjonen starter med å slette samtlige blogginnlegg for en spesifikk administrator. Deretter slettes selve administratoren.</li>
      <li><b>Lagrede rutiner:</b>
        <ol>
          <li><b>Innparameter:</b> Antall blogginnlegg - <b>Utdata:</b> Henter de X siste blogginnleggene</li>
          <li><b>Innparameter:</b> <i>postId</i>-en til et blogginnlegg - <b>Utdata:</b> Henter alle kommentarene til det aktuelle blogginnlegget</li>
        </ol>
      </li>
      <li><b>Trigger:</b> Når en administrator legger til et nytt blogginnlegg vil en kolonne (<i>postCount</i>) for den aktuelle brukeren inkrementeres automatisk. (Jeg har forsåvidt satt opp <i>on update</i>/<i>on delete</i>-triggere, men teller disse?)</li>
    </ul>
    <p>Jeg har ikke tatt hensyn til disse funksjonene i det vedlagte SQL-skriptet (se over).</p>
    <h2>Tilleggsfunksjonalitet</h2>
    <p><i>Oppdatert: 26.02.2012</i></p>
    <p>Andre funksjoner som er aktuelle i et bloggsystem, men som jeg i utgangspunktet ikke vil implementere:</p>
    <ul>
      <li><b>Brukeradministrasjon:</b> Legge til og slette administratorer. Endre passord for den aktuelle administratoren.</li>
      <li><b>Skreddersy utseendet:</b> Endre på blogglogoen og design av bloggen.</li>
      <li><b>Forhindre søppelpost:</b> Forhindre at søppelpost havner i kommentarene.</li>
      <li><b>Sanntidsoppdatering:</b> Nye blogginnlegg og kommentarer blir automatisk sendt til alle aktive brukere.</li>
    </ul>
  </body>
</html>